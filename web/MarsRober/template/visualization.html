<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
      name="viewport"
    />
    <title>Plus Admin</title>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    <link href="/static/css/vis.css" rel="stylesheet" />

    <link
      crossorigin="anonymous"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM"
      rel="stylesheet"
    />
    <script
      crossorigin="anonymous"
      integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
    ></script>
    <link href="/static/css/materialdesignicons.min.css" rel="stylesheet" />
    <link href="/static/css/style.css" rel="stylesheet" />
    <!-- End layout styles -->
  </head>
  <body>
    <div class="container-scroller">
      <!-- partial:../../partials/_sidebar.html -->
      <nav class="sidebar sidebar-offcanvas" id="sidebar">
        <ul class="nav">
          <li class="nav-item nav-profile border-bottom">
            <a class="nav-link flex-column" href="#"> </a>
          </li>

          <li class="pt-2 pb-1">
            <span class="nav-item-head">Mars Rover</span>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="Dash.html">
              <i class="fa-solid fa-house menu-icon"></i>
              <span class="menu-title">Dashboard</span>
            </a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="dashboard.html">
              <i class="fa-solid fa-clapperboard menu-icon"></i>
              <span class="menu-title">Stream</span>
            </a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="control.html">
              <i class="fa-solid fa-gears menu-icon"></i>
              <span class="menu-title">Control</span>
            </a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="visualization.html">
              <i class="fa-solid fa-chart-line menu-icon"></i>
              <span class="menu-title">Visualization</span>
            </a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="location.html">
              <i class="fa-sharp fa-solid fa-location-dot menu-icon"></i>
              <span class="menu-title">Map</span>
            </a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="images.html">
              <i class="fa-regular fa-image menu-icon"></i>
              <span class="menu-title">Images</span>
            </a>
          </li>
        </ul>
      </nav>

      <!-- partial -->
      <div class="container-fluid page-body-wrapper">
        <nav
          class="navbar default-layout-navbar col-lg-12 col-12 p-0 fixed-top d-flex flex-row"
        >
          <div class="navbar-menu-wrapper d-flex align-items-stretch">
            <button
              class="navbar-toggler bg-black navbar-toggler align-self-center"
              data-toggle="minimize"
              id="rotate"
              onclick="rotateIcon()"
              type="button"
            >
              <span class="fa-solid fa-square-caret-left" id="icn"></span>
            </button>
            <h1 class="m-2">Admin Panel</h1>
            <button
              class="navbar-toggler navbar-toggler-right d-lg-none align-self-center"
              data-toggle="offcanvas"
              style="position: absolute; left: 85.4%"
              type="button"
            >
              <span class="fa-solid fa-bars fa-lg menu-icon"></span>
            </button>
          </div>
        </nav>
        <!-- partial -->
        <div class="main-panel" style="height: auto">
          <div class="content-wrapper">
            <h1>Sensor Data</h1>
            <div
              class="co-wrapper"
              style="
                display: flex;
                flex-direction: column;
                background-color: white;
              "
            >
              <div class="tableandpagination" style="width: 100%">
                <!-- Display the data table -->
                <table
                  class="table table-bordered table-striped table-responsive-sm"
                >
                  <thead class="table-dark">
                    <tr>
                      <th>Data Recorded At</th>
                      <th>Smoke Sensor</th>
                      <th>Temperature</th>
                      <th>Humidity</th>
                    </tr>
                  </thead>
                  <tbody class="table-success">
                    {% for item in page_obj %}
                    <tr>
                      <td>{{ item.created_at }}</td>
                      <td>{{ item.field6 }}</td>
                      <td>{{ item.field4 }}</td>
                      <td>{{ item.field7 }}</td>
                    </tr>
                    {% endfor %}
                  </tbody>
                </table>

                <!-- Display pagination links -->
                <div class="pagination my-5" style="display: flex">
                  <span
                    class="step-links"
                    style="
                      display: flex;
                      flex-direction: row;
                      width: 100%;
                      justify-content: space-between;
                    "
                  >
                    {% if page_obj.has_previous %}

                    <a class="font-20 font-weight-bold" href="?page=1">
                      &laquo; First</a
                    >
                    <a
                      class="font-20 font-weight-bold"
                      href="?page={{ page_obj.previous_page_number }}"
                      >Previous</a
                    >
                    {% endif %} {% if page_obj.has_next %}
                    <!-- <h2 class="current-page font-20 font-weight-bold">
                      {{ page_obj.number }}
                    </h2> -->

                    <a
                      class="font-20 font-weight-bold"
                      href="?page={{ page_obj.next_page_number }}"
                      >Next
                    </a>

                    <a
                      class="font-20 font-weight-bold"
                      href="?page={{ page_obj.paginator.num_pages }}"
                      style="display: flex; flex-direction: row"
                    >
                      Last &raquo;
                    </a>
                    {% endif %}
                  </span>
                </div>
              </div>

              <div>
                <h1 class="mx-5">Visualization</h1>
                <div
                  class="my-5"
                  style="display: flex; flex-wrap: wrap; gap: 7rem"
                >
                  <div
                    class="my-5"
                    style="
                      display: flex;
                      flex-wrap: wrap;
                      justify-content: space-around;
                    "
                  >
                    <!-- Display the chart for Sensor 1 (field1) -->
                    <img
                      src="data:image/png;base64,{{ chart_field1 }}"
                      alt="Data Chart for Sensor 1"
                      width="40%"
                      height="400px"
                    />

                    <!-- Display the chart for Sensor 2 (field2) -->
                    <img
                      src="data:image/png;base64,{{ chart_field2 }}"
                      alt="Data Chart for Sensor 2"
                      width="40%"
                      height="400px"
                    />

                    <!-- Display the chart for Sensor 3 (field3) -->
                    <img
                      src="data:image/png;base64,{{ chart_field3 }}"
                      alt="Data Chart for Sensor 3"
                      width="40%"
                      height="400px"
                    />

                    <!-- Add more charts here for additional sensors if needed -->
                  </div>
                </div>
              </div>
            </div>
            <!-- content-wrapper ends -->

            <!-- partial:../../partials/_footer.html -->
            <footer class="footer">
              <div
                class="d-sm-flex justify-content-center justify-content-sm-between"
              >
                <span
                  class="text-muted text-center text-sm-left d-block d-sm-inline-block"
                >
                  MarsRover
                </span>
              </div>
            </footer>

            <!-- partial -->
          </div>

          <!-- main-panel ends -->
        </div>

        <!-- page-body-wrapper ends -->
      </div>

      <!-- container-scroller -->
      <script src="/static/js/vendor.bundle.base.js"></script>
      <script src="/static/js/off-canvas.js"></script>
      <script src="/static/js/misc.js"></script>
    </div>
  </body>
</html>